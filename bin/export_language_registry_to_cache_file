#!/bin/bash

LANG_REGISTRY=$(npm run --silent language-registry:fetch)
readonly LANG_REGISTRY
SCRIPT_DIR=$(dirname -- "$( readlink -f -- "$0"; )")
readonly SCRIPT_DIR
CACHE_FILE="${SCRIPT_DIR}"/../src/data.ts
TIMESTAMP=$(date -u)
readonly TIMESTAMP

cat << EOF > "${CACHE_FILE}"
import { Language } from "@typings";

// ${TIMESTAMP}
export const languageRegistry: Language[] = ${LANG_REGISTRY};
EOF